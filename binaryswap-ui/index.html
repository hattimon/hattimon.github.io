<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BinarySwap</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.8.1/dist/ethers.umd.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    :root { --bg:#1d1d1d; --text:#1db954; --card:#2a2a2a; --btn:#3a3a3a; --link:#a0ffcc; }
    [data-theme="light"] { --bg:#fff; --text:#000; --card:#f0f0f0; --btn:#e0e0e0; --link:#007acc; }
    body { margin:0;padding:20px;font-family:Arial;background:var(--bg);color:var(--text);transition:0.3s; }
    a{color:var(--link);text-decoration:none;}
    button{margin:5px;padding:10px 15px;border:none;border-radius:5px;background:var(--btn);color:var(--text);cursor:pointer;display:inline-flex;align-items:center;gap:6px;}
    input,select{margin:5px;padding:8px;border:1px solid #555;border-radius:5px;background:var(--card);color:var(--text);}
    .section{margin-top:20px;padding:15px;border:1px solid #444;border-radius:10px;background:var(--card); }
    #logo{max-width:500px;display:block;margin:0 auto;}
    .top-links{text-align:center;margin-bottom:20px;}
    .theme-toggle{position:fixed;top:10px;right:10px;padding:8px 12px;border-radius:5px;z-index:1000;background:var(--btn);color:var(--text);border:none;cursor:pointer;}
    .center-title{text-align:center;font-size:24px;margin-top:10px;}
    .error-message{margin-top:20px;padding:10px;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:5px;color:#721c24;}
    #error-text{white-space: pre-wrap; word-wrap: break-word;}
  </style>
</head>
<body>
  <img id="logo" src="logo.png" alt="BinarySwap logo">
  
  <div class="top-links"><a href="https://binaryswap.gitbook.io/binaryswap" target="_blank">ðŸ“˜ Dokumentacja BinarySwap</a></div>
  <div class="top-links"><a href="https://dexscreener.com/opbnb/0x506b8322e1159d06e493ebe7ffa41a24291e7ae3" target="_blank">ðŸ“Š Aktualna cena BinarySwap i wielkoÅ›Ä‡ puli 0101/WBNB BinarySwap</a></div>
  <div class="top-links"><a href="https://pancakeswap.finance/bridge" target="_blank">ðŸŒ‰ BÅ‚yskawiczny i tani Swap oraz Most opBNB <=FDUSD=> BSC</a></div>
  <div class="top-links"><a href="https://opbnb-bridge.bnbchain.org/withdraw?type=official" target="_blank">ðŸŒ‰ Oficjalny droÅ¼szy (Wolny 7 dni) Most opBNB <=BNB=> BSC <br> Oraz Third Party Bridge</a></div>
  
<div style="position:fixed; top:10px; left:10px; z-index:1000;">
  <button onclick="translateToEnglish()">ðŸ‡¬ðŸ‡§ English</button>
  <button onclick="translateToPolish()">ðŸ‡µðŸ‡± Polski</button>
</div>

  <button class="theme-toggle" onclick="toggleTheme()">ðŸŒž Tryb jasny</button>
  <div class="center-title" style="text-align: center; color: red; font-weight: bold;">Tryb Awaryjny BinarySwap</div>
 <p style="text-align: center;">
  (<b>KlikajÄ…c SWAP lub Dodaj/UsuÅ„ LP</b> wymaga to kilku kolejnych klikniÄ™Ä‡ w celu zatwierdzenia interakcji z kontraktem na podanÄ… sumÄ™ â€“ zatwierdzenie np. kontraktu Swap i potwierdzenie Swap)<br>
  Jest to bezpieczne (SSL) zastÄ™pcze GUI korzystajÄ…ce z oryginalnych funkcji kontraktÃ³w BinarySwap.<br>
   <font color="yellow" size="small">Polecam portfel <a href="https://rabby.io/" target="_blank">Rabby.io</a> gdzie rÃ³wnieÅ¼ cofniesz uprawnienia. <br>
   Do podglÄ…du historii transakcji polecam <a href="https://debank.com/" target="_blank">DeBank.com</a>.</font>
</p>
  <div id="app-root">
    <div class="section">
      <p><strong>Portfel:</strong> <span id="wallet-address">NiepoÅ‚Ä…czony</span></p>
      <button onclick="connectWallet()"><i class="fab fa-ethereum"></i> PoÅ‚Ä…cz MetaMask</button>
      <button onclick="switchToOpBNB()"><i class="fas fa-network-wired"></i> PrzeÅ‚Ä…cz na opBNB</button>
    </div>

    <div class="section">
      <h3>ZawartoÅ›Ä‡ Portfela</h3>
      <p>0101: <span id="balance-0101">â€“</span></p>
      <p>BNB: <span id="balance-bnb">â€“</span></p>
      <p>LP (0101/BNB): <span id="balance-lp">â€“</span></p>
    </div>

    <div class="section">
      <h3>Swap</h3>
      <input type="number" id="swapPercent" placeholder="iloÅ›Ä‡ w (1â€“100) %">
      <h4>Zamiana</h4>
      <select id="swapDirection">
        <option value="toToken">BNB â†’ 0101</option>
        <option value="toBNB">0101 â†’ BNB</option>
      </select>
      <h4>PoÅ›lizg</h4>
      <select id="swapSlippage">
        <option value="1">1%</option>
        <option value="3">3%</option>
        <option value="5">5%</option>
        <option value="10">10%</option>
        <option value="20">20%</option>
        <option value="30">30%</option>
        <option value="50">50%</option>
        <option value="100">100%</option>
      </select>
      <button onclick="handleSwap()"><i class="fas fa-exchange-alt"></i> Swap</button>
    </div>

    <div class="section">
      <h3>Pula PÅ‚ynnoÅ›ci</h3>
      <input type="number" id="lpPercent" placeholder="iloÅ›Ä‡ w (1â€“100) %">
      <button onclick="addLiquidity(parseInt(lpPercent.value))"><i class="fas fa-plus-circle"></i> Dodaj LP</button>
      <button onclick="removeLiquidity(parseInt(lpPercent.value))"><i class="fas fa-minus-circle"></i> UsuÅ„ LP</button>
    </div>

    <div class="section" id="lp-info">
      <h3>MasterChef â€“ Twoje pule (WiÄ™cej funkcji jak odstakowanie LP dodam wkrÃ³tce)</h3>
    </div>

    <!-- Error Message Section -->
    <div class="error-message" id="error-container" style="display:none;">
      <strong>BÅ‚Ä…d:</strong>
      <pre id="error-text"></pre>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
function translateToEnglish() {
  document.querySelector(".center-title").innerText = "BinarySwap Emergency Mode";
  document.querySelector("title").innerText = "BinarySwap";
  document.getElementById("wallet-address").innerText = "Disconnected";

  // Top links
  document.querySelectorAll(".top-links a")[0].innerHTML = "ðŸ“˜ BinarySwap Documentation";
  document.querySelectorAll(".top-links a")[1].innerHTML = "ðŸ“Š Live BinarySwap 0101/WBNB Pool Price";
  document.querySelectorAll(".top-links a")[2].innerHTML = "ðŸŒ‰ Fast & Cheap opBNB â‡” FDUSD Bridge";
  document.querySelectorAll(".top-links a")[3].innerHTML = "ðŸŒ‰ Official 7-Day opBNB â‡” BNB Bridge <br> And Third Party Bridges";

  // Wallet section
  document.querySelectorAll(".section")[0].querySelector("p").innerHTML = "<strong>Wallet:</strong> <span id='wallet-address'>Disconnected</span>";
  document.querySelectorAll(".section")[0].querySelectorAll("button")[0].innerHTML = "<i class='fab fa-ethereum'></i> Connect MetaMask";
  document.querySelectorAll(".section")[0].querySelectorAll("button")[1].innerHTML = "<i class='fas fa-network-wired'></i> Switch to opBNB";

  // Balances
  document.querySelectorAll(".section")[1].querySelector("h3").innerText = "Wallet Balances";
  document.getElementById("balance-0101").previousSibling.textContent = "0101: ";
  document.getElementById("balance-bnb").previousSibling.textContent = "BNB: ";
  document.getElementById("balance-lp").previousSibling.textContent = "LP (0101/BNB): ";

  // Swap section
  document.querySelectorAll(".section")[2].querySelector("h3").innerText = "Swap";
  document.getElementById("swapPercent").placeholder = "amount in (1â€“100)%";
  document.querySelector("#swapDirection").options[0].text = "BNB â†’ 0101";
  document.querySelector("#swapDirection").options[1].text = "0101 â†’ BNB";
  document.querySelectorAll(".section")[2].querySelectorAll("h4")[0].innerText = "Direction";
  document.querySelectorAll(".section")[2].querySelectorAll("h4")[1].innerText = "Slippage";
  document.querySelectorAll(".section")[2].querySelector("button").innerHTML = "<i class='fas fa-exchange-alt'></i> Swap";

  // LP section
  document.querySelectorAll(".section")[3].querySelector("h3").innerText = "Liquidity Pool";
  document.getElementById("lpPercent").placeholder = "amount in (1â€“100)%";
  document.querySelectorAll(".section")[3].querySelectorAll("button")[0].innerHTML = "<i class='fas fa-plus-circle'></i> Add LP";
  document.querySelectorAll(".section")[3].querySelectorAll("button")[1].innerHTML = "<i class='fas fa-minus-circle'></i> Remove LP";

  // MasterChef section
  document.getElementById("lp-info").querySelector("h3").innerText = "MasterChef â€“ Your Pools (Unstaking coming soon)";

  // Paragraph
  document.querySelector("p").innerHTML = `(<b>Clicking SWAP or Add/Remove LP</b> may require multiple confirmations for interacting with the contracts for the given amount â€“ such as Swap approval and confirmation.)<br>
  This is a secure (SSL) alternative GUI using original BinarySwap contract functions.<br>
  <font color="yellow" size="small">We recommend the <a href="https://rabby.io/" target="_blank">Rabby.io</a> wallet which also allows revoking approvals.<br>
  For transaction history, use <a href="https://debank.com/" target="_blank">DeBank.com</a>.</font>`;
}
</script>

</body>
</html>
