<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BinarySwap</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.8.1/dist/ethers.umd.min.js"></script>
  <style>
    :root {
      --bg-color: #1d1d1d;
      --text-color: #1db954;
      --card-bg: #2a2a2a;
      --button-bg: #3a3a3a;
      --link-color: #a0ffcc;
    }

    [data-theme="light"] {
      --bg-color: #ffffff;
      --text-color: #000000;
      --card-bg: #f0f0f0;
      --button-bg: #e0e0e0;
      --link-color: #007acc;
    }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
      transition: background 0.3s, color 0.3s;
    }

    h2, h3, p, label {
      color: var(--text-color);
    }

    a {
      color: var(--link-color);
      text-decoration: none;
    }

    button {
      margin: 5px;
      padding: 10px 15px;
      cursor: pointer;
      background: var(--button-bg);
      color: var(--text-color);
      border: none;
      border-radius: 5px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    input, select {
      padding: 8px;
      margin: 5px;
      border: 1px solid #555;
      border-radius: 5px;
      background: var(--card-bg);
      color: var(--text-color);
    }

    .section {
      border: 1px solid #444;
      padding: 15px;
      margin-top: 20px;
      background: var(--card-bg);
      border-radius: 10px;
    }

    #logo {
      width: 100%;
      max-width: 500px;
      display: block;
      margin: auto;
    }

    .top-links {
      text-align: center;
      margin-bottom: 20px;
    }

    .theme-toggle, .lang-toggle {
      position: fixed;
      top: 10px;
      background: var(--button-bg);
      color: var(--text-color);
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      z-index: 1000;
    }

    .theme-toggle {
      right: 10px;
    }

    .lang-toggle {
      left: 10px;
    }

    .center-title {
      text-align: center;
      font-size: 24px;
      margin-top: 10px;
    }

    .flag-button {
      padding: 6px 10px;
      font-size: 18px;
      background: transparent;
    }
  </style>
</head>
<body>
  <img id="logo" src="https://binaryswap.gitbook.io/binaryswap/~gitbook/image?url=https%3A%2F%2F2482429338-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FPnPFfp8a9uwxin5LSued%252Fuploads%252F7Nz5XlN4pQI7ftMofUz2%252Fbinaryswapbanner.png%3Falt%3Dmedia%26token%3Dd44d453a-40b2-473b-9951-0b3ec49ac320&width=1248&dpr=4&quality=100&sign=f88a1d88&sv=2" alt="BinarySwap logo">

  <div class="top-links">
    <a href="https://binaryswap.gitbook.io/binaryswap" target="_blank" data-i18n="docLink">ðŸ“˜ Dokumentacja BinarySwap</a>
  </div>

  <div class="lang-toggle">
    <button class="flag-button" onclick="setLanguage('pl')">ðŸ‡µðŸ‡±</button>
    <button class="flag-button" onclick="setLanguage('en')">ðŸ‡¬ðŸ‡§</button>
  </div>

  <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle-label">ðŸŒž Tryb jasny</button>

  <div class="center-title" data-i18n="emergencyTitle">Tryb Awaryjny BinarySwap</div>

  <div id="app-root"></div>

  <script>
    const translations = {
      pl: {
        emergencyTitle: "Tryb Awaryjny BinarySwap",
        docLink: "ðŸ“˜ Dokumentacja BinarySwap",
        lightMode: "ðŸŒž Tryb jasny",
        darkMode: "ðŸŒ™ Tryb ciemny"
      },
      en: {
        emergencyTitle: "BinarySwap Emergency Mode",
        docLink: "ðŸ“˜ BinarySwap Documentation",
        lightMode: "ðŸŒž Light Mode",
        darkMode: "ðŸŒ™ Dark Mode"
      }
    };

    function updateTranslations() {
      const lang = localStorage.getItem('language') || 'pl';
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });

      const theme = document.documentElement.getAttribute("data-theme");
      const themeToggle = document.getElementById("theme-toggle-label");
      themeToggle.textContent = theme === "dark"
        ? translations[lang].lightMode
        : translations[lang].darkMode;
    }

    function setLanguage(lang) {
      localStorage.setItem('language', lang);
      updateTranslations();
    }

    function toggleTheme() {
      const html = document.documentElement;
      const isDark = html.getAttribute("data-theme") !== "light";
      html.setAttribute("data-theme", isDark ? "light" : "dark");
      localStorage.setItem('theme', isDark ? 'light' : 'dark');
      updateTranslations();
    }

    (function () {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const theme = savedTheme || (prefersDark ? "dark" : "light");
      document.documentElement.setAttribute("data-theme", theme);

      const savedLang = localStorage.getItem('language') || 'pl';
      updateTranslations(savedLang);
    })();
  </script>

  <script src="app.js"></script>
<script>
  const translations = {
    en: {
      connectWallet: "Connect Wallet",
      switchNetwork: "Switch to opBNB",
      addLiquidity: "Add LP",
      removeLiquidity: "Remove LP",
      liquidityPool: "Liquidity Pool",
      tokenBalance: "Token Balance",
      lpBalance: "LP Balance",
      bnbBalance: "BNB Balance",
      selectSlippage: "Select slippage:",
      swap: "Swap",
      enterAmount: "Enter amount",
      max: "Max",
      pendingReward: "Pending Reward",
      emergencyWithdraw: "Emergency Withdraw",
      depositLP: "Deposit LP",
      withdrawLP: "Withdraw LP",
      binaryswapEmergencyMode: "BinarySwap Emergency Mode",
      binaryswapEmergencyModeDescription: "(By clicking SWAP or Add/Remove LP, multiple confirmations are required to approve interaction with the contract for the specified amount â€” such as approving the Swap contract and confirming the Swap itself.)",
      binaryswapGuiNote: "This is a secure (SSL) alternative GUI that uses the original BinarySwap contract functions.",
      rabbyRecommendation: "We recommend the Rabby.io wallet, where you can also revoke permissions.",
      debankRecommendation: "For viewing transaction history, we recommend DeBank.com."
    },
    pl: {
      connectWallet: "PoÅ‚Ä…cz MetaMask",
      switchNetwork: "PrzeÅ‚Ä…cz na opBNB",
      addLiquidity: "Dodaj LP",
      removeLiquidity: "UsuÅ„ LP",
      liquidityPool: "Pula PÅ‚ynnoÅ›ci",
      tokenBalance: "Saldo tokena",
      lpBalance: "Saldo LP",
      bnbBalance: "Saldo BNB",
      selectSlippage: "Wybierz poÅ›lizg:",
      swap: "ZamieÅ„",
      enterAmount: "Wpisz kwotÄ™",
      max: "Max",
      pendingReward: "OczekujÄ…ca nagroda",
      emergencyWithdraw: "Awaryjna wypÅ‚ata",
      depositLP: "Zdeponuj LP",
      withdrawLP: "WypÅ‚aÄ‡ LP",
      binaryswapEmergencyMode: "Tryb Awaryjny BinarySwap",
      binaryswapEmergencyModeDescription: "(KlikniÄ™cie ZamieÅ„ lub Dodaj/UsuÅ„ LP wymaga kilku kolejnych klikniÄ™Ä‡ w celu zatwierdzenia interakcji z kontraktem na podanÄ… sumÄ™ â€“ zatwierdzenie np. kontraktu Swap i potwierdzenie Swap)",
      binaryswapGuiNote: "Jest to bezpieczne (SSL) zastÄ™pcze GUI korzystajÄ…ce z oryginalnych funkcji kontraktÃ³w BinarySwap.",
      rabbyRecommendation: "Polecam portfel Rabby.io, gdzie rÃ³wnieÅ¼ cofniesz uprawnienia.",
      debankRecommendation: "Do podglÄ…du historii transakcji polecam DeBank.com."
    }
  };

  let currentLang = 'pl'; // domyÅ›lny jÄ™zyk

  function updateTranslations() {
    document.querySelectorAll('[data-translate]').forEach(el => {
      const key = el.getAttribute('data-translate');
      if (translations[currentLang] && translations[currentLang][key]) {
        el.innerText = translations[currentLang][key];
      }
    });
  }

  function switchLanguage(lang) {
    if (translations[lang]) {
      currentLang = lang;
      updateTranslations();
    }
  }

  // Uruchom tÅ‚umaczenia po zaÅ‚adowaniu
  document.addEventListener('DOMContentLoaded', () => {
    updateTranslations();
  });
</script>
<script>
const originalTexts = new Map();
let currentLang = 'en';

// Lista tÅ‚umaczeÅ„ â€“ rozbuduj, jeÅ›li chcesz
const translations = [
  { pl: "ðŸ“˜ Dokumentacja BinarySwap", en: "ðŸ“˜ BinarySwap Docs" },
  { pl: "ðŸ“Š Aktualna cena BinarySwap i wielkoÅ›Ä‡ puli 0101/WBNB BinarySwap", en: "ðŸ“Š 0101/WBNB Pool & Price" },
  { pl: "ðŸŒ‰ BÅ‚yskawiczny i tani Swap oraz Most opBNB <=FDUSD=> BSC", en: "ðŸŒ‰ Fast Bridge opBNB â‡„ FDUSD" },
  { pl: "ðŸŒ‰ Oficjalny droÅ¼szy (Wolny 7 dni) Most opBNB <=BNB=> BSC \n Oraz Third Party Bridge", en: "ðŸŒ‰ Official (7-day) opBNB â‡„ BNB + Third Party Bridge" },
  { pl: "PoÅ‚Ä…cz MetaMask", en: "Connect MetaMask" },
  { pl: "PrzeÅ‚Ä…cz na opBNB", en: "Switch to opBNB" },
  { pl: "ZawartoÅ›Ä‡ Portfela", en: "Wallet Balances" },
  { pl: "Portfel:", en: "Wallet:" },
  { pl: "Zamiana", en: "Swap Direction" },
  { pl: "PoÅ›lizg", en: "Slippage" },
  { pl: "Dodaj LP", en: "Add LP" },
  { pl: "UsuÅ„ LP", en: "Remove LP" },
  { pl: "Twoje pule (WiÄ™cej funkcji jak odstakowanie LP dodam wkrÃ³tce)", en: "Your Pools (More LP features coming soon)" },
  { pl: "ðŸŒž Tryb jasny", en: "ðŸŒž Light Mode" },
  { pl: "Polski", en: "Polski" }, // button label
  { pl: "English", en: "English" }, // button label
];

function translateTo(lang) {
  currentLang = lang;
  document.querySelectorAll('body *').forEach(el => {
    if (!originalTexts.has(el)) originalTexts.set(el, el.innerHTML);

    translations.forEach(({ pl, en }) => {
      const from = lang === 'pl' ? en : pl;
      const to = lang === 'pl' ? pl : en;

      if (el.innerHTML.trim() === from) {
        el.innerHTML = to;
      }
    });
  });
}

// Automatyczne wykrycie jÄ™zyka
(function autoDetectLanguage() {
  const browserLang = navigator.language || navigator.userLanguage;
  if (browserLang.startsWith("pl")) {
    translateTo('pl');
  } else {
    translateTo('en');
  }
})();

// Funkcje do rÄ™cznego przeÅ‚Ä…czania
function translateToEnglish() {
  translateTo('en');
}
function translateToPolish() {
  translateTo('pl');
}
</script>

</body>
</html>
