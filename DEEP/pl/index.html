<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podróż w Głąb Podświadomości - Mapa Świadomości</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="mine-cart-loader"></div>
            <h2>Przygotowywanie podróży...</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome-screen" class="screen active">
        <div class="welcome-content">
            <h1 class="glowing-title">Podróż w Głąb Podświadomości</h1>
            <p class="subtitle">Odkryj swój poziom świadomości według Mapy Świadomości Davida R. Hawkinsa</p>
            
            <div class="instructions">
                <h3>Jak to działa:</h3>
                <ul>
                    <li>Wsiądziesz do wagonika i zjedziesz w głąb kopalni podświadomości</li>
                    <li>Odpowiesz na 17 pytań psychologicznych</li>
                    <li>Łagodna muzyka ambient pomoże Ci wejść w stan głębokiej koncentracji</li>
                    <li>Otrzymasz szczegółowy raport osobowości do pobrania</li>
                </ul>
            </div>

            <div class="audio-control">
                <label class="audio-toggle">
                    <input type="checkbox" id="audio-enabled" checked>
                    <span class="slider"></span>
                    <span class="label">Muzyka i dźwięki</span>
                </label>
                <div class="volume-control">
                    <label for="volume-slider">Głośność:</label>
                    <input type="range" id="volume-slider" min="0" max="100" value="30" class="volume-slider">
                </div>
            </div>

            <button class="btn btn--primary btn--lg start-journey" id="start-btn">
                Rozpocznij Podróż
            </button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <!-- 3D Canvas -->
        <canvas id="three-canvas"></canvas>
        
        <!-- UI Overlay -->
        <div class="game-ui">
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="depth-indicator">
                    <span class="depth-label">Głębokość:</span>
                    <span class="depth-value" id="depth-value">0m</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="consciousness-level">
                    <span class="level-label">Poziom:</span>
                    <span class="level-value" id="level-value">Powierzchnia</span>
                </div>
            </div>

            <!-- Question Panel -->
            <div class="question-panel" id="question-panel">
                <div class="question-content">
                    <h3 class="question-title" id="question-title">Pytanie 1/17</h3>
                    <p class="question-text" id="question-text"></p>
                    <div class="question-buttons">
                        <button class="btn btn--outline answer-btn" data-answer="no">Nie</button>
                        <button class="btn btn--primary answer-btn" data-answer="yes">Tak</button>
                    </div>
                </div>
            </div>

            <!-- Audio Controls -->
            <div class="audio-controls">
                <button class="btn btn--sm audio-toggle-btn" id="audio-toggle">
                    <span class="audio-icon">🔊</span>
                </button>
                <div class="music-display">
                    <span class="music-label">Muzyka:</span>
                    <span class="music-value" id="music-value">Ambient</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="screen">
        <div class="results-content">
            <h1 class="results-title">Analiza Twojej Podświadomości</h1>
            
            <div class="results-summary">
                <div class="consciousness-meter">
                    <div class="meter-background">
                        <div class="meter-fill" id="consciousness-meter"></div>
                    </div>
                    <div class="meter-labels">
                        <span class="meter-label">Wstyd</span>
                        <span class="meter-label">Oświecenie</span>
                    </div>
                </div>
                
                <div class="dominant-level">
                    <h3>Dominujący poziom świadomości:</h3>
                    <div class="level-card" id="dominant-level-card">
                        <h4 id="dominant-level-name"></h4>
                        <p id="dominant-level-description"></p>
                        <span class="level-score" id="dominant-level-score"></span>
                    </div>
                </div>
            </div>

            <div class="barriers-section">
                <h3>Główne bariery do przezwyciężenia:</h3>
                <ul id="barriers-list"></ul>
            </div>

            <div class="recommendations-section">
                <h3>Zalecane praktyki:</h3>
                <ul id="recommendations-list"></ul>
            </div>

            <div class="development-section">
                <h3>Ścieżka Rozwoju Osobistego:</h3>
                <div id="development-path"></div>
            </div>

            <div class="download-section">
                <button class="btn btn--primary btn--lg download-btn" id="download-report">
                    Pobierz Raport
                </button>
                <button class="btn btn--outline restart-btn" id="restart-journey">
                    Rozpocznij Ponownie
                </button>
            </div>
        </div>
    </div>

    <!-- Hidden audio elements -->
    <audio id="ambient-audio" loop preload="auto">
        <source src="data:audio/wav;base64," type="audio/wav">
    </audio>

    <script src="app.js"></script>
</body>
</html>