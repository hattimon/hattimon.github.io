<!DOCTYPE html>
<html lang="pl" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Uniwersalny DEX - Arbswap</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.8.1/dist/ethers.umd.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="button-group">
      <button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-moon"></i> <span data-i18n="theme_dark">Tryb Ciemny</span></button>
      <button class="lang-toggle" onclick="toggleLanguage()"><i class="fas fa-globe"></i> <span data-i18n="language">Polski</span></button>
    </div>
    <div class="center-title">Uniwersalny DEX - Swap i Płynność</div>
    <p class="intro-text">
      <span data-i18n="interaction_info"><b>Połącz portfel</b>, skonfiguruj kontrakt i sieć, aby swapować tokeny lub zarządzać płynnością.</span><br>
      <span class="highlight-text" data-i18n="wallet_recommendation">Polecam portfel <a href="https://rabby.io/" target="_blank">Rabby.io</a>.</span><br>
      <span class="highlight-text" data-i18n="transaction_history">Sprawdź historię na <a href="https://debank.com/" target="_blank">DeBank.com</a>.</span>
    </p>
    <div class="section network-section">
      <h3 data-i18n="network_config">Konfiguracja Sieci</h3>
      <div class="network-input">
        <input type="text" id="chainId" placeholder="Chain ID (np. 42170)" data-i18n-placeholder="chain_id">
        <input type="text" id="rpcUrl" placeholder="RPC URL (np. https://nova.arbitrum.io/rpc)" data-i18n-placeholder="rpc_url">
        <input type="text" id="chainName" placeholder="Nazwa sieci (np. Arbitrum Nova)" data-i18n-placeholder="chain_name">
        <input type="text" id="nativeCurrency" placeholder="Symbol waluty (np. ETH)" data-i18n-placeholder="native_currency">
        <input type="text" id="blockExplorer" placeholder="Explorer URL (np. https://nova.arbiscan.io)" data-i18n-placeholder="block_explorer">
        <button class="uniswap-btn" onclick="addNetwork()" data-i18n="add_network">Dodaj Sieć</button>
      </div>
    </div>
    <div class="section wallet-section">
      <p><strong data-i18n="wallet_label">Portfel:</strong> <span id="wallet-address" data-i18n="disconnected">Niepołączony</span></p>
      <button class="uniswap-btn" onclick="connectWallet()"><i class="fab fa-ethereum"></i> <span data-i18n="connect">Połącz Portfel</span></button>
    </div>
    <div class="section contract-section">
      <h3 data-i18n="contract_config">Konfiguracja Kontraktu</h3>
      <div class="contract-input">
        <input type="text" id="contractAddress" placeholder="Adres kontraktu (np. 0xEe01...)" data-i18n-placeholder="contract_address">
        <textarea id="contractAbi" placeholder="Wklej ABI kontraktu (JSON)" data-i18n-placeholder="contract_abi"></textarea>
        <select id="contractType" data-i18n-placeholder="contract_type">
          <option value="router">Router</option>
          <option value="lp">LP (Pula Płynności)</option>
        </select>
        <input type="text" id="tokenA" placeholder="Adres Token A (np. DAI)" data-i18n-placeholder="token_a">
        <input type="text" id="tokenB" placeholder="Adres Token B (np. WETH)" data-i18n-placeholder="token_b">
        <button class="uniswap-btn" onclick="configureContract()" data-i18n="configure_contract">Skonfiguruj Kontrakt</button>
      </div>
    </div>
    <div class="section wallet-content-section">
      <h3 data-i18n="wallet_contents">Zawartość Portfela</h3>
      <p>Token A: <span id="balance-tokenA">–</span></p>
      <p>Token B: <span id="balance-tokenB">–</span></p>
      <p>LP: <span id="balance-lp">–</span></p>
    </div>
    <div class="section swap-section">
      <h3 data-i18n="swap">Swap Tokenów</h3>
      <div class="swap-card">
        <div class="swap-input">
          <select id="swapDirection">
            <option value="AtoB">Token A → Token B</option>
            <option value="BtoA">Token B → Token A</option>
          </select>
          <select id="swapPercent" data-i18n-placeholder="select_percent">
            <option value="25">25%</option>
            <option value="50">50%</option>
            <option value="75">75%</option>
            <option value="100">100%</option>
          </select>
          <input type="number" id="swapAmountOutMin" placeholder="Min. ilość wyjściowa (np. 0.1)" step="any" data-i18n-placeholder="swap_amount_out_min">
        </div>
        <button class="uniswap-btn" id="swapButton" onclick="swapTokens()" disabled data-i18n="swap_tokens">Swap</button>
      </div>
    </div>
    <div class="section liquidity-section">
      <h3 data-i18n="liquidity_pool">Pula Płynności</h3>
      <div class="liquidity-card">
        <div class="liquidity-input">
          <select id="liquidityAction">
            <option value="add">Dodaj Płynność</option>
            <option value="remove">Usuń Płynność</option>
          </select>
          <select id="liquidityPercent" data-i18n-placeholder="select_percent">
            <option value="25">25%</option>
            <option value="50">50%</option>
            <option value="75">75%</option>
            <option value="100">100%</option>
          </select>
          <input type="number" id="amountTokenAMin" placeholder="Min. ilość Token A (np. 0.475)" step="any" data-i18n-placeholder="amount_token_a_min">
          <input type="number" id="amountTokenBMin" placeholder="Min. ilość Token B (np. 0.00026369)" step="any" data-i18n-placeholder="amount_token_b_min">
        </div>
        <button class="uniswap-btn" id="liquidityButton" onclick="manageLiquidity()" disabled data-i18n="manage_liquidity">Zarządzaj Płynnością</button>
      </div>
    </div>
    <div id="toast-container"></div>
  </div>
  <script src="script.js"></script>
</body>
</html>
