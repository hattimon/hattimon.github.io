<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helium (HNT) Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #29abe2;
            --primary-hover: #4fbce8;
            --secondary-color: #1a3e72;
            --text-color: #333;
            --text-inverse: #f0f0f0;
            --background-color: #f5f7fa;
            --card-bg: #fff;
            --card-bg-dark: #1e293b;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --text-color: #f0f0f0;
            --text-inverse: #333;
            --background-color: #0f172a;
            --card-bg: #1e293b;
            --card-bg-dark: #0f172a;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.4);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 0;
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .chart-section, .halving-section {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .chart-section:hover, .halving-section:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }

        .halving-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .halving-stats {
            background-color: rgba(41, 171, 226, 0.1);
            padding: 20px;
            border-radius: 8px;
            transition: var(--transition);
            border-left: 4px solid var(--primary-color);
        }

        .halving-stats:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .stat {
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed rgba(41, 171, 226, 0.3);
            transition: var(--transition);
        }

        .stat:hover {
            background-color: rgba(41, 171, 226, 0.05);
            padding-left: 5px;
        }

        .stat .value {
            font-weight: bold;
            color: var(--primary-color);
        }

        .halving-history, .reward-history {
            background-color: rgba(26, 62, 114, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            transition: var(--transition);
            border-left: 4px solid var(--secondary-color);
        }

        .halving-history:hover, .reward-history:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
            padding: 5px 0;
            transition: var(--transition);
        }

        li:hover {
            color: var(--primary-color);
            padding-left: 5px;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
            transition: var(--transition);
        }

        .theme-toggle:hover {
            color: var(--primary-color);
            transform: rotate(30deg);
        }

        @media (max-width: 768px) {
            .halving-container {
                grid-template-columns: 1fr;
            }
            
            .chart-container {
                height: 300px;
            }
            
            header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
        }

        /* Loading spinner */
        .loader {
            display: none;
            border: 4px solid rgba(41, 171, 226, 0.2);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--card-bg-dark);
            color: var(--text-inverse);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: var(--shadow);
            font-size: 0.9rem;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-left">
                <h1 data-translate="title">Helium (HNT) Dashboard</h1>
                <div class="tooltip">
                    <small data-translate="last-updated">Last updated: <span id="last-updated">Loading...</span></small>
                    <span class="tooltiptext" data-translate="update-tooltip">Data updates every minute</span>
                </div>
            </div>
            <div class="controls">
                <button id="theme-toggle" class="theme-toggle" title="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="language-toggle" class="btn btn-outline">
                    <i class="fas fa-language"></i>
                    <span>PL</span>
                </button>
                <button id="sound-toggle" class="btn btn-outline">
                    <i class="fas fa-volume-up"></i>
                </button>
            </div>
        </header>

        <section class="chart-section">
            <h2 data-translate="price-chart">HNT Price Chart</h2>
            <div class="chart-container">
                <canvas id="priceChart"></canvas>
                <div id="chart-loader" class="loader"></div>
            </div>
            <div class="chart-controls" style="margin-top: 15px; display: flex; gap: 10px;">
                <button id="chart-1m" class="btn btn-outline">1M</button>
                <button id="chart-3m" class="btn btn-outline">3M</button>
                <button id="chart-1y" class="btn btn-outline">1Y</button>
                <button id="chart-all" class="btn">All</button>
            </div>
        </section>

        <section class="halving-section">
            <h2 data-translate="halving-info">Halving Information</h2>
            <div class="halving-container">
                <div class="halving-stats">
                    <div class="stat">
                        <span data-translate="current-stage">Current emission stage:</span>
                        <span class="value">Post-2025 (625k HNT/month)</span>
                    </div>
                    <div class="stat">
                        <span data-translate="last-halving">Last halving:</span>
                        <span class="value" id="last-halving-date">2025-08-01</span>
                        <span class="value" id="time-since-halving">6d 00h 00m 00s</span>
                    </div>
                    <div class="stat">
                        <span data-translate="next-halving">Next halving:</span>
                        <span class="value" id="next-halving-date">2027-08-01</span>
                        <span class="value" id="time-to-halving">723d 23h 59m 59s</span>
                    </div>
                    <div class="stat">
                        <span data-translate="current-price">Current price:</span>
                        <span class="value" id="current-price">Loading...</span>
                    </div>
                </div>

                <div class="halving-stats">
                    <div class="stat">
                        <span data-translate="market-cap">Market cap:</span>
                        <span class="value" id="market-cap">Loading...</span>
                    </div>
                    <div class="stat">
                        <span data-translate="circulating">Circulating supply:</span>
                        <span class="value" id="circulating-supply">186,011,619 HNT</span>
                    </div>
                    <div class="stat">
                        <span data-translate="max-supply">Max supply:</span>
                        <span class="value">223,000,000 HNT</span>
                    </div>
                    <div class="stat">
                        <span data-translate="consensus">Consensus:</span>
                        <span class="value">PoC – HoneyBadger BFT</span>
                    </div>
                </div>
            </div>

            <div class="halving-history">
                <h3 data-translate="halving-history">Halving History</h3>
                <ul>
                    <li>2019: 60M HNT</li>
                    <li>2021-08-01: 60M HNT</li>
                    <li>2023-08-01: 30M HNT</li>
                    <li>2025-08-01: 15M HNT</li>
                    <li>2027-08-01: 7.5M HNT</li>
                </ul>
            </div>

            <div class="reward-history">
                <h3 data-translate="reward-history">Block Reward History</h3>
                <ul>
                    <li>Pre-2021: 5M HNT/month</li>
                    <li>Post-2021: 2.5M HNT/month</li>
                    <li>Post-2023: 1.25M HNT/month</li>
                    <li>Post-2025: 625k HNT/month (current)</li>
                </ul>
            </div>
        </section>
    </div>

    <audio id="bg-music" loop>
        <source src="bg.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/pl.min.js"></script>
    <script>
        // Translation dictionary
        const translations = {
            "title": {
                "en": "Helium (HNT) Dashboard",
                "pl": "Panel Helium (HNT)"
            },
            "price-chart": {
                "en": "HNT Price Chart",
                "pl": "Wykres cen HNT"
            },
            "halving-info": {
                "en": "Halving Information",
                "pl": "Informacje o halvingu"
            },
            "current-stage": {
                "en": "Current emission stage:",
                "pl": "Aktualny etap emisji:"
            },
            "last-halving": {
                "en": "Last halving:",
                "pl": "Ostatni halving:"
            },
            "next-halving": {
                "en": "Next halving:",
                "pl": "Następny halving:"
            },
            "current-price": {
                "en": "Current price:",
                "pl": "Aktualna cena:"
            },
            "market-cap": {
                "en": "Market cap:",
                "pl": "Kapitalizacja:"
            },
            "circulating": {
                "en": "Circulating supply:",
                "pl": "Podaż w obiegu:"
            },
            "max-supply": {
                "en": "Max supply:",
                "pl": "Maksymalna podaż:"
            },
            "consensus": {
                "en": "Consensus:",
                "pl": "Konsensus:"
            },
            "rewards": {
                "en": "Rewards for coverage and data transmission",
                "pl": "Nagrody za pokrycie i transmisję danych"
            },
            "halving-history": {
                "en": "Halving History",
                "pl": "Historia halvingów"
            },
            "reward-history": {
                "en": "Block Reward History",
                "pl": "Historia nagród blokowych"
            },
            "last-updated": {
                "en": "Last updated:",
                "pl": "Ostatnia aktualizacja:"
            },
            "update-tooltip": {
                "en": "Data updates every minute",
                "pl": "Dane aktualizowane co minutę"
            }
        };

        // Current language and theme
        let currentLanguage = 'en';
        let currentTheme = 'light';

        // DOM elements
        const themeToggle = document.getElementById('theme-toggle');
        const languageToggle = document.getElementById('language-toggle');
        const soundToggle = document.getElementById('sound-toggle');
        const bgMusic = document.getElementById('bg-music');
        const priceChartCtx = document.getElementById('priceChart').getContext('2d');
        const chartLoader = document.getElementById('chart-loader');
        const lastUpdatedEl = document.getElementById('last-updated');

        // Chart elements
        const chart1mBtn = document.getElementById('chart-1m');
        const chart3mBtn = document.getElementById('chart-3m');
        const chart1yBtn = document.getElementById('chart-1y');
        const chartAllBtn = document.getElementById('chart-all');

        // Chart instance and data
        let priceChart;
        let chartData = {
            all: null,
            '1y': null,
            '3m': null,
            '1m': null
        };
        let currentChartRange = 'all';

        // Initialize the dashboard
        function initDashboard() {
            // Set up event listeners
            themeToggle.addEventListener('click', toggleTheme);
            languageToggle.addEventListener('click', toggleLanguage);
            soundToggle.addEventListener('click', toggleSound);
            
            // Chart range buttons
            chart1mBtn.addEventListener('click', () => updateChartRange('1m'));
            chart3mBtn.addEventListener('click', () => updateChartRange('3m'));
            chart1yBtn.addEventListener('click', () => updateChartRange('1y'));
            chartAllBtn.addEventListener('click', () => updateChartRange('all'));
            
            // Start background music
            bgMusic.volume = 0.3;
            bgMusic.play().catch(e => console.log("Autoplay prevented:", e));
            
            // Initialize chart
            initChart();
            
            // Start data updates
            updateData();
            setInterval(updateData, 60000); // Update every minute
            
            // Start countdown timers
            updateCountdowns();
            setInterval(updateCountdowns, 1000); // Update every second
            
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('hnt-theme');
            if (savedTheme === 'dark') {
                enableDarkMode();
            }
            
            // Check for saved language preference
            const savedLang = localStorage.getItem('hnt-lang');
            if (savedLang === 'pl') {
                currentLanguage = 'pl';
                languageToggle.querySelector('span').textContent = 'EN';
                applyTranslations();
                moment.locale('pl');
            }
        }

        // Toggle between light and dark theme
        function toggleTheme() {
            if (currentTheme === 'light') {
                enableDarkMode();
            } else {
                disableDarkMode();
            }
        }

        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            currentTheme = 'dark';
            localStorage.setItem('hnt-theme', 'dark');
            
            // Update chart colors for dark mode
            if (priceChart) {
                updateChartColors();
            }
        }

        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            currentTheme = 'light';
            localStorage.setItem('hnt-theme', 'light');
            
            // Update chart colors for light mode
            if (priceChart) {
                updateChartColors();
            }
        }

        // Toggle between English and Polish
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'pl' : 'en';
            languageToggle.querySelector('span').textContent = currentLanguage === 'en' ? 'PL' : 'EN';
            applyTranslations();
            localStorage.setItem('hnt-lang', currentLanguage);
            
            // Update moment.js locale for date formatting
            moment.locale(currentLanguage);
            
            // Update last updated text
            updateLastUpdatedText();
        }

        // Apply translations to all elements with data-translate attribute
        function applyTranslations() {
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[key]) {
                    element.textContent = translations[key][currentLanguage];
                }
            });
        }

        // Toggle background music
        function toggleSound() {
            if (bgMusic.paused) {
                bgMusic.play();
                soundToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
            } else {
                bgMusic.pause();
                soundToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        }

        // Initialize the price chart
        function initChart() {
            priceChart = new Chart(priceChartCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'HNT Price (USD)',
                        data: [],
                        borderColor: '#29abe2',
                        backgroundColor: 'rgba(41, 171, 226, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 0,
                        pointHoverRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Price (USD)',
                                color: () => getComputedStyle(document.body).getPropertyValue('--text-color')
                            },
                            grid: {
                                color: () => currentTheme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                color: () => getComputedStyle(document.body).getPropertyValue('--text-color')
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Date',
                                color: () => getComputedStyle(document.body).getPropertyValue('--text-color')
                            },
                            grid: {
                                color: () => currentTheme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                color: () => getComputedStyle(document.body).getPropertyValue('--text-color')
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: () => getComputedStyle(document.body).getPropertyValue('--text-color')
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: () => currentTheme === 'dark' ? '#1e293b' : '#fff',
                            titleColor: () => currentTheme === 'dark' ? '#29abe2' : '#1a3e72',
                            bodyColor: () => getComputedStyle(document.body).getPropertyValue('--text-color'),
                            borderColor: () => currentTheme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',
                            borderWidth: 1
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });
        }

        // Update chart colors based on current theme
        function updateChartColors() {
            if (priceChart) {
                priceChart.options.scales.x.ticks.color = getComputedStyle(document.body).getPropertyValue('--text-color');
                priceChart.options.scales.y.ticks.color = getComputedStyle(document.body).getPropertyValue('--text-color');
                priceChart.options.scales.x.title.color = getComputedStyle(document.body).getPropertyValue('--text-color');
                priceChart.options.scales.y.title.color = getComputedStyle(document.body).getPropertyValue('--text-color');
                priceChart.options.scales.x.grid.color = currentTheme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
                priceChart.options.scales.y.grid.color = currentTheme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
                priceChart.options.plugins.legend.labels.color = getComputedStyle(document.body).getPropertyValue('--text-color');
                priceChart.options.plugins.tooltip.backgroundColor = currentTheme === 'dark' ? '#1e293b' : '#fff';
                priceChart.options.plugins.tooltip.titleColor = currentTheme === 'dark' ? '#29abe2' : '#1a3e72';
                priceChart.options.plugins.tooltip.bodyColor = getComputedStyle(document.body).getPropertyValue('--text-color');
                priceChart.options.plugins.tooltip.borderColor = currentTheme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
                priceChart.update();
            }
        }

        // Update chart with new data
        function updateChart(data, range = 'all') {
            if (!data || !data.prices) return;
            
            // Store data for all ranges
            chartData.all = data;
            
            // Filter data for different time ranges
            const now = Date.now();
            chartData['1y'] = {
                prices: data.prices.filter(entry => entry[0] >= now - 365 * 24 * 60 * 60 * 1000)
            };
            chartData['3m'] = {
                prices: data.prices.filter(entry => entry[0] >= now - 90 * 24 * 60 * 60 * 1000)
            };
            chartData['1m'] = {
                prices: data.prices.filter(entry => entry[0] >= now - 30 * 24 * 60 * 60 * 1000)
            };
            
            // Update the chart with the current range
            updateChartRange(range);
            
            // Update current price display
            const currentPrice = data.prices[data.prices.length - 1][1];
            document.getElementById('current-price').textContent = `${currentPrice.toFixed(2)} USD`;
            
            // Update market cap (circulating supply * price)
            const circulatingSupply = 186011619;
            const marketCap = (circulatingSupply * currentPrice).toLocaleString('en-US', {
                style: 'currency',
                currency: 'USD',
                maximumFractionDigits: 0
            });
            document.getElementById('market-cap').textContent = marketCap;
            
            // Update last updated time
            updateLastUpdatedText();
        }

        // Update chart range (1m, 3m, 1y, all)
        function updateChartRange(range) {
            if (!chartData[range]) return;
            
            currentChartRange = range;
            
            // Reset active state for all buttons
            chart1mBtn.classList.remove('btn');
            chart1mBtn.classList.add('btn-outline');
            chart3mBtn.classList.remove('btn');
            chart3mBtn.classList.add('btn-outline');
            chart1yBtn.classList.remove('btn');
            chart1yBtn.classList.add('btn-outline');
            chartAllBtn.classList.remove('btn');
            chartAllBtn.classList.add('btn-outline');
            
            // Set active state for selected button
            document.getElementById(`chart-${range}`).classList.remove('btn-outline');
            document.getElementById(`chart-${range}`).classList.add('btn');
            
            // Format data for Chart.js
            const data = chartData[range];
            const labels = data.prices.map(entry => moment(entry[0]).format(range === 'all' ? 'MMM YYYY' : 'MMM D'));
            const prices = data.prices.map(entry => entry[1]);
            
            priceChart.data.labels = labels;
            priceChart.data.datasets[0].data = prices;
            priceChart.update();
        }

        // Fetch data from CoinGecko API
        async function updateData() {
            try {
                chartLoader.style.display = 'block';
                
                // Note: In production, you should use your own backend to proxy these requests
                // to avoid CORS issues and to protect your API key
                const response = await fetch('https://api.coingecko.com/api/v3/coins/helium/market_chart?vs_currency=usd&days=max');
                const data = await response.json();
                
                updateChart(data, currentChartRange);
            } catch (error) {
                console.error('Error fetching data:', error);
                
                // Fallback to mock data if API fails
                const mockData = await fetchFallbackData();
                updateChart(mockData, currentChartRange);
            } finally {
                chartLoader.style.display = 'none';
            }
        }

        // Fallback data when API fails
        async function fetchFallbackData() {
            try {
                // Try to load from a local fallback file
                const response = await fetch('hnt_fallback_data.json');
                return await response.json();
            } catch (error) {
                console.error('Error loading fallback data:', error);
                
                // Generate basic mock data as last resort
                return generateMockData();
            }
        }

        // Update countdown timers
        function updateCountdowns() {
            const lastHalvingDate = moment('2025-08-01');
            const nextHalvingDate = moment('2027-08-01');
            const now = moment();
            
            // Time since last halving
            const durationSince = moment.duration(now.diff(lastHalvingDate));
            const sinceText = `${durationSince.days()}d ${durationSince.hours()}h ${durationSince.minutes()}m ${durationSince.seconds()}s`;
            document.getElementById('time-since-halving').textContent = sinceText;
            
            // Time to next halving
            const durationTo = moment.duration(nextHalvingDate.diff(now));
            const toText = `${durationTo.days()}d ${durationTo.hours()}h ${durationTo.minutes()}m ${durationTo.seconds()}s`;
            document.getElementById('time-to-halving').textContent = toText;
        }

        // Update last updated text
        function updateLastUpdatedText() {
            const now = moment();
            lastUpdatedEl.textContent = now.format('LLLL');
        }

        // Generate mock data for demonstration
        function generateMockData() {
            // This is a simplified version - in a real app you would use actual historical data
            const prices = [];
            const now = Date.now();
            const startDate = new Date('2019-07-01').getTime();
            
            // Generate realistic price movements based on HNT's actual history
            for (let time = startDate; time <= now; time += 24 * 60 * 60 * 1000) {
                const daysSinceStart = (time - startDate) / (24 * 60 * 60 * 1000);
                
                // Simulate different market phases
                let price;
                if (daysSinceStart < 365) {
                    // Initial phase - slow growth
                    price = 0.5 + (daysSinceStart / 365) * 0.5;
                } else if (daysSinceStart < 730) {
                    // First bull run
                    price = 1.0 + Math.sin((daysSinceStart - 365) / 365 * Math.PI) * 10;
                } else if (daysSinceStart < 1095) {
                    // Bear market
                    price = 10 - (daysSinceStart - 730) / 365 * 8;
                } else {
                    // Recent volatility
                    price = 2 + Math.sin(daysSinceStart / 90) * 1.5 + Math.random() * 0.5;
                }
                
                // Add some randomness
                price *= (0.95 + Math.random() * 0.1);
                
                prices.push([time, price]);
            }
            
            return { prices };
        }

        // Initialize the dashboard when the page loads
        window.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>
